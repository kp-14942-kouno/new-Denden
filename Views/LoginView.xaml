<UserControl x:Class="DenDen.Views.LoginView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="800"
             Background="#F0F0F0">

    <Grid>
        <Border Background="White"
                CornerRadius="8"
                Padding="40"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                MinWidth="400"
                Effect="{StaticResource DropShadowEffect}">
            <StackPanel>
                <!-- タイトル -->
                <TextBlock Text="コール業務管理システム"
                           FontSize="24"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,30"/>

                <!-- 案件選択 -->
                <TextBlock Text="案件" Margin="0,0,0,5"/>
                <ComboBox ItemsSource="{Binding Projects}"
                          SelectedItem="{Binding SelectedProject}"
                          DisplayMemberPath="ProjectName"
                          Height="32"
                          Margin="0,0,0,15"
                          IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBoolConverter}}"/>

                <!-- ログインID -->
                <TextBlock Text="ログインID" Margin="0,0,0,5"/>
                <TextBox Text="{Binding LoginId, UpdateSourceTrigger=PropertyChanged}"
                         Height="32"
                         Padding="8,6"
                         Margin="0,0,0,15"
                         IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBoolConverter}}"/>

                <!-- パスワード -->
                <TextBlock Text="パスワード" Margin="0,0,0,5"/>
                <PasswordBox x:Name="PasswordBox"
                             Height="32"
                             Padding="8,6"
                             Margin="0,0,0,15"
                             PasswordChanged="PasswordBox_PasswordChanged"
                             IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBoolConverter}}"/>

                <!-- エラーメッセージ -->
                <TextBlock Text="{Binding ErrorMessage}"
                           Foreground="Red"
                           TextWrapping="Wrap"
                           Margin="0,0,0,15"
                           Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}"/>

                <!-- ボタンエリア -->
                <Grid Margin="0,0,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="8"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- ログインボタン -->
                    <Button Grid.Column="0"
                            Content="ログイン"
                            Command="{Binding LoginCommand}"
                            Height="40"
                            FontSize="14"
                            Background="#0078D4"
                            Foreground="White"
                            BorderThickness="0"
                            Cursor="Hand"
                            IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBoolConverter}}"/>

                    <!-- 終了ボタン -->
                    <Button Grid.Column="2"
                            Content="終了"
                            Command="{Binding ExitCommand}"
                            Width="80"
                            Height="40"
                            FontSize="14"
                            Background="#666666"
                            Foreground="White"
                            BorderThickness="0"
                            Cursor="Hand"/>
                </Grid>

                <!-- ローディング表示 -->
                <ProgressBar IsIndeterminate="True"
                             Height="4"
                             Margin="0,10,0,0"
                             Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
